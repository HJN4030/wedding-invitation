{"ast":null,"code":"import{useEffect,useMemo,useState}from\"react\";import{BRIDE_FIRSTNAME,GROOM_FIRSTNAME,HOLIDAYS,WEDDING_DATE}from\"../../const\";import{LazyDiv}from\"../lazyDiv\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const firstDayOfWeek=WEDDING_DATE.startOf(\"month\").day();const daysInMonth=WEDDING_DATE.daysInMonth();export const Calendar=()=>{const[tsDiff,setTsDiff]=useState(WEDDING_DATE.diff());const dayDiff=useMemo(()=>{const dayOffset=WEDDING_DATE.diff(WEDDING_DATE.startOf(\"day\"));return Math.ceil((tsDiff-dayOffset)/1000/60/60/24);},[tsDiff]);useEffect(()=>{const interval=setInterval(()=>{const diff=WEDDING_DATE.diff();setTsDiff(diff);},1000);return()=>clearInterval(interval);});const diffs=useMemo(()=>{const tsDiff_=Math.abs(tsDiff);const seconds=Math.floor(tsDiff_%60000/1000);const minutes=Math.floor(tsDiff_%3600000/60000);const hours=Math.floor(tsDiff_%86400000/3600000);const days=Math.floor(tsDiff_/86400000);const isAfter=tsDiff<0;return{days,hours,minutes,seconds,isAfter};},[tsDiff]);return/*#__PURE__*/_jsxs(LazyDiv,{className:\"card calendar\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"english\",children:\"The Wedding Day\"}),/*#__PURE__*/_jsx(\"div\",{className:\"break\"}),WEDDING_DATE.format(\"YYYY년 MMMM D일 dddd A h시\"),/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"head holiday\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Su\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Mo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Tu\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"span\",{children:\"We\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Th\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Fr\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Sa\"})}),Array.from({length:firstDayOfWeek}).map((_,i)=>/*#__PURE__*/_jsx(\"div\",{},i)),Array.from({length:daysInMonth}).map((_,i)=>{const date=i+1;const classes=[];const isSunday=(i+firstDayOfWeek)%7===0;if(isSunday||HOLIDAYS.includes(date)){classes.push(\"holiday\");}const isWeddingDate=date===WEDDING_DATE.date();if(isWeddingDate){classes.push(\"wedding-date\");}return/*#__PURE__*/_jsxs(\"div\",{className:classes.length?classes.join(\" \"):undefined,children:[/*#__PURE__*/_jsx(\"span\",{children:date}),isWeddingDate&&/*#__PURE__*/_jsx(\"div\",{className:\"heart\"})]},i);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"countdown-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"countdown\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"DAY\"}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"HOUR\"}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"MIN\"}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"SEC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:diffs.days}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:diffs.hours}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:diffs.minutes}),/*#__PURE__*/_jsx(\"span\",{children:\":\"}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:diffs.seconds})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[GROOM_FIRSTNAME,\" & \",BRIDE_FIRSTNAME,\"\\uC758 \\uACB0\\uD63C\\uC2DD\\uC774\",\" \",dayDiff>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"d-day\",children:dayDiff}),\"\\uC77C \\uB0A8\\uC558\\uC2B5\\uB2C8\\uB2E4.\"]}):dayDiff===0?/*#__PURE__*/_jsx(_Fragment,{children:\"\\uC624\\uB298\\uC785\\uB2C8\\uB2E4.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"d-day\",children:-dayDiff}),\"\\uC77C \\uC9C0\\uB0AC\\uC2B5\\uB2C8\\uB2E4.\"]})]})]})]});};","map":{"version":3,"names":["useEffect","useMemo","useState","BRIDE_FIRSTNAME","GROOM_FIRSTNAME","HOLIDAYS","WEDDING_DATE","LazyDiv","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","firstDayOfWeek","startOf","day","daysInMonth","Calendar","tsDiff","setTsDiff","diff","dayDiff","dayOffset","Math","ceil","interval","setInterval","clearInterval","diffs","tsDiff_","abs","seconds","floor","minutes","hours","days","isAfter","className","children","format","Array","from","length","map","_","i","date","classes","isSunday","includes","push","isWeddingDate","join","undefined"],"sources":["/workspaces/wedding-invitation/src/component/calendar/index.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\"\nimport {\n  BRIDE_FIRSTNAME,\n  GROOM_FIRSTNAME,\n  HOLIDAYS,\n  WEDDING_DATE,\n} from \"../../const\"\nimport { LazyDiv } from \"../lazyDiv\"\n\nconst firstDayOfWeek = WEDDING_DATE.startOf(\"month\").day()\nconst daysInMonth = WEDDING_DATE.daysInMonth()\n\nexport const Calendar = () => {\n  const [tsDiff, setTsDiff] = useState(WEDDING_DATE.diff())\n\n  const dayDiff = useMemo(() => {\n    const dayOffset = WEDDING_DATE.diff(WEDDING_DATE.startOf(\"day\"))\n    return Math.ceil((tsDiff - dayOffset) / 1000 / 60 / 60 / 24)\n  }, [tsDiff])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const diff = WEDDING_DATE.diff()\n\n      setTsDiff(diff)\n    }, 1000)\n\n    return () => clearInterval(interval)\n  })\n\n  const diffs = useMemo(() => {\n    const tsDiff_ = Math.abs(tsDiff)\n    const seconds = Math.floor((tsDiff_ % 60000) / 1000)\n    const minutes = Math.floor((tsDiff_ % 3600000) / 60000)\n    const hours = Math.floor((tsDiff_ % 86400000) / 3600000)\n    const days = Math.floor(tsDiff_ / 86400000)\n    const isAfter = tsDiff < 0\n\n    return { days, hours, minutes, seconds, isAfter }\n  }, [tsDiff])\n\n  return (\n    <LazyDiv className=\"card calendar\">\n      <h2 className=\"english\">The Wedding Day</h2>\n      <div className=\"break\" />\n      {WEDDING_DATE.format(\"YYYY년 MMMM D일 dddd A h시\")}\n      <div className=\"calendar-wrapper\">\n        <div className=\"head holiday\">\n          <span>Su</span>\n        </div>\n        <div className=\"head\">\n          <span>Mo</span>\n        </div>\n        <div className=\"head\">\n          <span>Tu</span>\n        </div>\n        <div className=\"head\">\n          <span>We</span>\n        </div>\n        <div className=\"head\">\n          <span>Th</span>\n        </div>\n        <div className=\"head\">\n          <span>Fr</span>\n        </div>\n        <div className=\"head\">\n          <span>Sa</span>\n        </div>\n        {Array.from({ length: firstDayOfWeek }).map((_, i) => (\n          <div key={i} />\n        ))}\n        {Array.from({ length: daysInMonth }).map((_, i) => {\n          const date = i + 1\n\n          const classes = []\n\n          const isSunday = (i + firstDayOfWeek) % 7 === 0\n\n          if (isSunday || HOLIDAYS.includes(date)) {\n            classes.push(\"holiday\")\n          }\n\n          const isWeddingDate = date === WEDDING_DATE.date()\n\n          if (isWeddingDate) {\n            classes.push(\"wedding-date\")\n          }\n\n          return (\n            <div\n              key={i}\n              className={classes.length ? classes.join(\" \") : undefined}\n            >\n              <span>{date}</span>\n              {isWeddingDate && <div className=\"heart\" />}\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"countdown-wrapper\">\n        <div className=\"countdown\">\n          <div className=\"unit\">DAY</div>\n          <div />\n          <div className=\"unit\">HOUR</div>\n          <div />\n          <div className=\"unit\">MIN</div>\n          <div />\n          <div className=\"unit\">SEC</div>\n          <div className=\"count\">{diffs.days}</div>\n          <span>:</span>\n          <div className=\"count\">{diffs.hours}</div>\n          <span>:</span>\n          <div className=\"count\">{diffs.minutes}</div>\n          <span>:</span>\n          <div className=\"count\">{diffs.seconds}</div>\n        </div>\n        <div className=\"message\">\n          {GROOM_FIRSTNAME} & {BRIDE_FIRSTNAME}의 결혼식이{\" \"}\n          {dayDiff > 0 ? (\n            <>\n              <span className=\"d-day\">{dayDiff}</span>일 남았습니다.\n            </>\n          ) : dayDiff === 0 ? (\n            <>오늘입니다.</>\n          ) : (\n            <>\n              <span className=\"d-day\">{-dayDiff}</span>일 지났습니다.\n            </>\n          )}\n        </div>\n      </div>\n    </LazyDiv>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}