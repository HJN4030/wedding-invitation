{"ast":null,"code":"import{useEffect,useMemo,useRef,useState}from\"react\";import{Button}from\"../button\";import{dayjs}from\"../../const\";import{LazyDiv}from\"../lazyDiv\";import{useModal}from\"../store\";import offlineGuestBook from\"./offlineGuestBook.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RULES={name:{maxLength:10},content:{maxLength:100},password:{minLength:4,maxLength:20}};const PAGES_PER_BLOCK=5;const POSTS_PER_PAGE=5;export const GuestBook=()=>{const{openModal,closeModal}=useModal();const[posts,setPosts]=useState([]);const loadPosts=async()=>{if(process.env.REACT_APP_SERVER_URL){try{const res=await fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/guestbook?offset=\",0,\"&limit=\",3));if(res.ok){const data=await res.json();setPosts(data.posts);}}catch{}}else{setPosts(offlineGuestBook.slice(0,3));}};useEffect(()=>{loadPosts();},[]);return/*#__PURE__*/_jsxs(LazyDiv,{className:\"card guestbook\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"english\",children:\"Guest Book\"}),/*#__PURE__*/_jsx(\"div\",{className:\"break\"}),posts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:async()=>{if(process.env.REACT_APP_SERVER_URL){openModal({className:\"delete-guestbook-modal\",closeOnClickBackground:false,header:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"}),content:/*#__PURE__*/_jsx(DeleteGuestBookModal,{postId:post.id,onSuccess:()=>{loadPosts();}}),footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",type:\"submit\",form:\"guestbook-delete-form\",children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",className:\"bg-light-grey-color text-dark-color\",onClick:closeModal,children:\"\\uB2EB\\uAE30\"})]})});}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:post.name}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:dayjs.unix(post.timestamp).format(\"YYYY-MM-DD\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:post.content})]})]},post.id)),/*#__PURE__*/_jsx(\"div\",{className:\"break\"}),process.env.REACT_APP_SERVER_URL&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>openModal({className:\"write-guestbook-modal\",closeOnClickBackground:false,header:/*#__PURE__*/_jsxs(\"div\",{className:\"title-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uBC29\\uBA85\\uB85D \\uC791\\uC131\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"\\uC2E0\\uB791, \\uC2E0\\uBD80\\uC5D0\\uAC8C \\uCD95\\uD558\\uC758 \\uB9C8\\uC74C\\uC744 \\uC804\\uD574\\uC8FC\\uC138\\uC694.\"})]}),content:/*#__PURE__*/_jsx(WriteGuestBookModal,{loadPosts:loadPosts}),footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",type:\"submit\",form:\"guestbook-write-form\",children:\"\\uC800\\uC7A5\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",className:\"bg-light-grey-color text-dark-color\",onClick:closeModal,children:\"\\uB2EB\\uAE30\"})]})}),children:\"\\uBC29\\uBA85\\uB85D \\uC791\\uC131\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"break\"})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>openModal({className:\"all-guestbook-modal\",closeOnClickBackground:true,header:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uBC29\\uBA85\\uB85D \\uC804\\uCCB4\\uBCF4\\uAE30\"}),content:/*#__PURE__*/_jsx(AllGuestBookModal,{loadPosts:loadPosts}),footer:/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",className:\"bg-light-grey-color text-dark-color\",onClick:closeModal,children:\"\\uB2EB\\uAE30\"})}),children:\"\\uBC29\\uBA85\\uB85D \\uC804\\uCCB4\\uBCF4\\uAE30\"})]});};const WriteGuestBookModal=_ref=>{let{loadPosts}=_ref;const inputRef=useRef({});const{closeModal}=useModal();const[loading,setLoading]=useState(false);return/*#__PURE__*/_jsxs(\"form\",{id:\"guestbook-write-form\",className:\"form\",onSubmit:async e=>{e.preventDefault();setLoading(true);try{const name=inputRef.current.name.value.trim();const content=inputRef.current.content.value.trim();const password=inputRef.current.password.value;if(!name){alert(\"이름을 입력해주세요.\");return;}if(name.length>RULES.name.maxLength){alert(\"\\uC774\\uB984\\uC744 \".concat(RULES.name.maxLength,\"\\uC790 \\uC774\\uD558\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"));return;}if(!content){alert(\"내용을 입력해주세요.\");return;}if(content.length>RULES.content.maxLength){alert(\"\\uB0B4\\uC6A9\\uC744 \".concat(RULES.content.maxLength,\"\\uC790 \\uC774\\uD558\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"));return;}if(password.length<RULES.password.minLength){alert(\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \".concat(RULES.password.minLength,\"\\uC790 \\uC774\\uC0C1 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"));return;}if(password.length>RULES.password.maxLength){alert(\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \".concat(RULES.password.maxLength,\"\\uC790 \\uC774\\uD558\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"));return;}const res=await fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/guestbook\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name,content,password})});if(!res.ok){throw new Error(res.statusText);}alert(\"방명록 작성이 완료되었습니다.\");closeModal();loadPosts();}catch{alert(\"방명록 작성에 실패했습니다.\");}finally{setLoading(false);}},children:[\"\\uC774\\uB984\",/*#__PURE__*/_jsx(\"input\",{disabled:loading,type:\"text\",placeholder:\"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",className:\"name\",ref:ref=>inputRef.current.name=ref,maxLength:RULES.name.maxLength}),\"\\uB0B4\\uC6A9\",/*#__PURE__*/_jsx(\"textarea\",{disabled:loading,placeholder:\"\\uCD95\\uD558 \\uBA54\\uC138\\uC9C0\\uB97C 100\\uC790 \\uC774\\uB0B4\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",className:\"content\",ref:ref=>inputRef.current.content=ref,maxLength:RULES.content.maxLength}),\"\\uBE44\\uBC00\\uBC88\\uD638\",/*#__PURE__*/_jsx(\"input\",{disabled:loading,type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",className:\"password\",ref:ref=>inputRef.current.password=ref,maxLength:RULES.password.maxLength})]});};const AllGuestBookModal=_ref2=>{let{loadPosts}=_ref2;const[posts,setPosts]=useState([]);const[currentPage,setCurrentPage]=useState(0);const[totalPages,setTotalPages]=useState(1);const{openModal,closeModal}=useModal();const loadPage=async page=>{setCurrentPage(page);if(process.env.REACT_APP_SERVER_URL){try{const offset=page*POSTS_PER_PAGE;const res=await fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/guestbook?offset=\").concat(offset,\"&limit=\").concat(POSTS_PER_PAGE));if(res.ok){const data=await res.json();setPosts(data.posts);setTotalPages(Math.ceil(data.total/POSTS_PER_PAGE));if(data.total<offset){setCurrentPage(Math.ceil(data.total/POSTS_PER_PAGE)-1);}}}catch{}}else{setCurrentPage(page);setPosts(offlineGuestBook.slice(page*POSTS_PER_PAGE,(page+1)*POSTS_PER_PAGE));setTotalPages(Math.ceil(offlineGuestBook.length/POSTS_PER_PAGE));}};useEffect(()=>{loadPage(0);},[]);const pages=useMemo(()=>{const start=Math.floor(currentPage/PAGES_PER_BLOCK)*PAGES_PER_BLOCK;const end=Math.min(start+PAGES_PER_BLOCK,totalPages);return Array.from({length:end-start}).map((_,index)=>index+start);},[currentPage,totalPages]);return/*#__PURE__*/_jsxs(_Fragment,{children:[posts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"close-button\",onClick:async()=>{if(process.env.REACT_APP_SERVER_URL){openModal({className:\"delete-guestbook-modal\",closeOnClickBackground:false,header:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"}),content:/*#__PURE__*/_jsx(DeleteGuestBookModal,{postId:post.id,onSuccess:()=>{loadPosts();loadPage(currentPage);}}),footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",type:\"submit\",form:\"guestbook-delete-form\",children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Button,{buttonStyle:\"style2\",className:\"bg-light-grey-color text-dark-color\",onClick:closeModal,children:\"\\uB2EB\\uAE30\"})]})});}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:post.name}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:dayjs.unix(post.timestamp).format(\"YYYY-MM-DD\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:post.content})]})]},post.id)),/*#__PURE__*/_jsx(\"div\",{className:\"break\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[pages[0]>0&&/*#__PURE__*/_jsx(\"div\",{className:\"page\",onClick:()=>{loadPage(pages[0]-1);},children:\"\\uC774\\uC804\"}),pages.map(page=>/*#__PURE__*/_jsx(\"div\",{className:\"page\".concat(page===currentPage?\" current\":\"\"),onClick:()=>{if(page===currentPage)return;loadPage(page);},children:page+1},page)),pages[pages.length-1]<totalPages-1&&/*#__PURE__*/_jsx(\"div\",{className:\"page\",onClick:()=>{loadPage(pages[pages.length-1]+1);},children:\"\\uB2E4\\uC74C\"})]})]});};const DeleteGuestBookModal=_ref3=>{let{postId,onSuccess}=_ref3;const inputRef=useRef();const{closeModal}=useModal();const[loading,setLoading]=useState(false);return/*#__PURE__*/_jsx(\"form\",{id:\"guestbook-delete-form\",className:\"form\",onSubmit:async e=>{e.preventDefault();setLoading(true);try{const password=inputRef.current.value;if(!password||password.length<RULES.password.minLength){alert(\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \".concat(RULES.password.minLength,\"\\uC790 \\uC774\\uC0C1 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"));return;}if(password.length>RULES.password.maxLength){alert(\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \".concat(RULES.password.maxLength,\"\\uC790 \\uC774\\uD558\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"));return;}const result=await fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/guestbook\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:postId,password})});if(!result.ok){if(result.status===403){alert(\"비밀번호가 일치하지 않습니다.\");}else{alert(\"방명록 삭제에 실패했습니다.\");}return;}alert(\"삭제되었습니다.\");closeModal();onSuccess();}catch{alert(\"방명록 삭제에 실패했습니다.\");}finally{setLoading(false);}},children:/*#__PURE__*/_jsx(\"input\",{disabled:loading,type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",className:\"password\",ref:inputRef,maxLength:RULES.password.maxLength})});};","map":{"version":3,"names":["useEffect","useMemo","useRef","useState","Button","dayjs","LazyDiv","useModal","offlineGuestBook","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RULES","name","maxLength","content","password","minLength","PAGES_PER_BLOCK","POSTS_PER_PAGE","GuestBook","openModal","closeModal","posts","setPosts","loadPosts","process","env","REACT_APP_SERVER_URL","res","fetch","concat","ok","data","json","slice","className","children","map","post","onClick","closeOnClickBackground","header","DeleteGuestBookModal","postId","id","onSuccess","footer","buttonStyle","type","form","unix","timestamp","format","WriteGuestBookModal","AllGuestBookModal","_ref","inputRef","loading","setLoading","onSubmit","e","preventDefault","current","value","trim","alert","length","method","headers","body","JSON","stringify","Error","statusText","disabled","placeholder","ref","_ref2","currentPage","setCurrentPage","totalPages","setTotalPages","loadPage","page","offset","Math","ceil","total","pages","start","floor","end","min","Array","from","_","index","_ref3","result","status"],"sources":["/workspaces/wedding-invitation/src/component/guestbook/index.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from \"react\"\nimport { Button } from \"../button\"\nimport { dayjs } from \"../../const\"\nimport { LazyDiv } from \"../lazyDiv\"\nimport { useModal } from \"../store\"\nimport offlineGuestBook from \"./offlineGuestBook.json\"\n\nconst RULES = {\n  name: {\n    maxLength: 10,\n  },\n  content: {\n    maxLength: 100,\n  },\n  password: {\n    minLength: 4,\n    maxLength: 20,\n  },\n}\n\nconst PAGES_PER_BLOCK = 5\nconst POSTS_PER_PAGE = 5\n\ntype Post = {\n  id: number\n  timestamp: number\n  name: string\n  content: string\n}\n\nexport const GuestBook = () => {\n  const { openModal, closeModal } = useModal()\n\n  const [posts, setPosts] = useState<Post[]>([])\n\n  const loadPosts = async () => {\n    if (process.env.REACT_APP_SERVER_URL) {\n      try {\n        const res = await fetch(\n          `${process.env.REACT_APP_SERVER_URL}/guestbook?offset=${0}&limit=${3}`,\n        )\n        if (res.ok) {\n          const data = await res.json()\n\n          setPosts(data.posts)\n        }\n      } catch {}\n    } else {\n      setPosts(offlineGuestBook.slice(0, 3))\n    }\n  }\n\n  useEffect(() => {\n    loadPosts()\n  }, [])\n\n  return (\n    <LazyDiv className=\"card guestbook\">\n      <h2 className=\"english\">Guest Book</h2>\n\n      <div className=\"break\" />\n\n      {posts.map((post) => (\n        <div key={post.id} className=\"post\">\n          <div className=\"heading\">\n            <button\n              className=\"close-button\"\n              onClick={async () => {\n                if (process.env.REACT_APP_SERVER_URL) {\n                  openModal({\n                    className: \"delete-guestbook-modal\",\n                    closeOnClickBackground: false,\n                    header: <div className=\"title\">삭제하시겠습니까?</div>,\n                    content: (\n                      <DeleteGuestBookModal\n                        postId={post.id}\n                        onSuccess={() => {\n                          loadPosts()\n                        }}\n                      />\n                    ),\n                    footer: (\n                      <>\n                        <Button\n                          buttonStyle=\"style2\"\n                          type=\"submit\"\n                          form=\"guestbook-delete-form\"\n                        >\n                          삭제하기\n                        </Button>\n                        <Button\n                          buttonStyle=\"style2\"\n                          className=\"bg-light-grey-color text-dark-color\"\n                          onClick={closeModal}\n                        >\n                          닫기\n                        </Button>\n                      </>\n                    ),\n                  })\n                }\n              }}\n            />\n          </div>\n          <div className=\"body\">\n            <div className=\"title\">\n              <div className=\"name\">{post.name}</div>\n              <div className=\"date\">\n                {dayjs.unix(post.timestamp).format(\"YYYY-MM-DD\")}\n              </div>\n            </div>\n            <div className=\"content\">{post.content}</div>\n          </div>\n        </div>\n      ))}\n\n      <div className=\"break\" />\n\n      {process.env.REACT_APP_SERVER_URL && (\n        <>\n          <Button\n            onClick={() =>\n              openModal({\n                className: \"write-guestbook-modal\",\n                closeOnClickBackground: false,\n                header: (\n                  <div className=\"title-group\">\n                    <div className=\"title\">방명록 작성하기</div>\n                    <div className=\"subtitle\">\n                      신랑, 신부에게 축하의 마음을 전해주세요.\n                    </div>\n                  </div>\n                ),\n                content: <WriteGuestBookModal loadPosts={loadPosts} />,\n                footer: (\n                  <>\n                    <Button\n                      buttonStyle=\"style2\"\n                      type=\"submit\"\n                      form=\"guestbook-write-form\"\n                    >\n                      저장하기\n                    </Button>\n                    <Button\n                      buttonStyle=\"style2\"\n                      className=\"bg-light-grey-color text-dark-color\"\n                      onClick={closeModal}\n                    >\n                      닫기\n                    </Button>\n                  </>\n                ),\n              })\n            }\n          >\n            방명록 작성하기\n          </Button>\n          <div className=\"break\" />\n        </>\n      )}\n\n      <Button\n        onClick={() =>\n          openModal({\n            className: \"all-guestbook-modal\",\n            closeOnClickBackground: true,\n            header: <div className=\"title\">방명록 전체보기</div>,\n            content: <AllGuestBookModal loadPosts={loadPosts} />,\n            footer: (\n              <Button\n                buttonStyle=\"style2\"\n                className=\"bg-light-grey-color text-dark-color\"\n                onClick={closeModal}\n              >\n                닫기\n              </Button>\n            ),\n          })\n        }\n      >\n        방명록 전체보기\n      </Button>\n    </LazyDiv>\n  )\n}\n\nconst WriteGuestBookModal = ({ loadPosts }: { loadPosts: () => void }) => {\n  const inputRef = useRef({}) as React.MutableRefObject<{\n    name: HTMLInputElement\n    content: HTMLTextAreaElement\n    password: HTMLInputElement\n  }>\n  const { closeModal } = useModal()\n  const [loading, setLoading] = useState(false)\n\n  return (\n    <form\n      id=\"guestbook-write-form\"\n      className=\"form\"\n      onSubmit={async (e) => {\n        e.preventDefault()\n        setLoading(true)\n        try {\n          const name = inputRef.current.name.value.trim()\n          const content = inputRef.current.content.value.trim()\n          const password = inputRef.current.password.value\n\n          if (!name) {\n            alert(\"이름을 입력해주세요.\")\n            return\n          }\n          if (name.length > RULES.name.maxLength) {\n            alert(`이름을 ${RULES.name.maxLength}자 이하로 입력해주세요.`)\n            return\n          }\n\n          if (!content) {\n            alert(\"내용을 입력해주세요.\")\n            return\n          }\n          if (content.length > RULES.content.maxLength) {\n            alert(`내용을 ${RULES.content.maxLength}자 이하로 입력해주세요.`)\n            return\n          }\n\n          if (password.length < RULES.password.minLength) {\n            alert(`비밀번호를 ${RULES.password.minLength}자 이상 입력해주세요.`)\n            return\n          }\n          if (password.length > RULES.password.maxLength) {\n            alert(\n              `비밀번호를 ${RULES.password.maxLength}자 이하로 입력해주세요.`,\n            )\n            return\n          }\n\n          const res = await fetch(\n            `${process.env.REACT_APP_SERVER_URL}/guestbook`,\n            {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify({ name, content, password }),\n            },\n          )\n          if (!res.ok) {\n            throw new Error(res.statusText)\n          }\n\n          alert(\"방명록 작성이 완료되었습니다.\")\n          closeModal()\n          loadPosts()\n        } catch {\n          alert(\"방명록 작성에 실패했습니다.\")\n        } finally {\n          setLoading(false)\n        }\n      }}\n    >\n      이름\n      <input\n        disabled={loading}\n        type=\"text\"\n        placeholder=\"이름을 입력해주세요.\"\n        className=\"name\"\n        ref={(ref) => (inputRef.current.name = ref as HTMLInputElement)}\n        maxLength={RULES.name.maxLength}\n      />\n      내용\n      <textarea\n        disabled={loading}\n        placeholder=\"축하 메세지를 100자 이내로 입력해주세요.\"\n        className=\"content\"\n        ref={(ref) => (inputRef.current.content = ref as HTMLTextAreaElement)}\n        maxLength={RULES.content.maxLength}\n      />\n      비밀번호\n      <input\n        disabled={loading}\n        type=\"password\"\n        placeholder=\"비밀번호를 입력해주세요.\"\n        className=\"password\"\n        ref={(ref) => (inputRef.current.password = ref as HTMLInputElement)}\n        maxLength={RULES.password.maxLength}\n      />\n    </form>\n  )\n}\n\nconst AllGuestBookModal = ({\n  loadPosts,\n}: {\n  loadPosts: () => Promise<void>\n}) => {\n  const [posts, setPosts] = useState<Post[]>([])\n  const [currentPage, setCurrentPage] = useState(0)\n  const [totalPages, setTotalPages] = useState(1)\n  const { openModal, closeModal } = useModal()\n\n  const loadPage = async (page: number) => {\n    setCurrentPage(page)\n    if (process.env.REACT_APP_SERVER_URL) {\n      try {\n        const offset = page * POSTS_PER_PAGE\n        const res = await fetch(\n          `${process.env.REACT_APP_SERVER_URL}/guestbook?offset=${offset}&limit=${POSTS_PER_PAGE}`,\n        )\n        if (res.ok) {\n          const data = await res.json()\n\n          setPosts(data.posts)\n          setTotalPages(Math.ceil(data.total / POSTS_PER_PAGE))\n          if (data.total < offset) {\n            setCurrentPage(Math.ceil(data.total / POSTS_PER_PAGE) - 1)\n          }\n        }\n      } catch {}\n    } else {\n      setCurrentPage(page)\n\n      setPosts(\n        offlineGuestBook.slice(\n          page * POSTS_PER_PAGE,\n          (page + 1) * POSTS_PER_PAGE,\n        ),\n      )\n      setTotalPages(Math.ceil(offlineGuestBook.length / POSTS_PER_PAGE))\n    }\n  }\n\n  useEffect(() => {\n    loadPage(0)\n  }, [])\n\n  const pages = useMemo(() => {\n    const start = Math.floor(currentPage / PAGES_PER_BLOCK) * PAGES_PER_BLOCK\n    const end = Math.min(start + PAGES_PER_BLOCK, totalPages)\n\n    return Array.from({ length: end - start }).map((_, index) => index + start)\n  }, [currentPage, totalPages])\n\n  return (\n    <>\n      {posts.map((post) => (\n        <div key={post.id} className=\"post\">\n          <div className=\"heading\">\n            <div\n              className=\"close-button\"\n              onClick={async () => {\n                if (process.env.REACT_APP_SERVER_URL) {\n                  openModal({\n                    className: \"delete-guestbook-modal\",\n                    closeOnClickBackground: false,\n                    header: <div className=\"title\">삭제하시겠습니까?</div>,\n                    content: (\n                      <DeleteGuestBookModal\n                        postId={post.id}\n                        onSuccess={() => {\n                          loadPosts()\n                          loadPage(currentPage)\n                        }}\n                      />\n                    ),\n                    footer: (\n                      <>\n                        <Button\n                          buttonStyle=\"style2\"\n                          type=\"submit\"\n                          form=\"guestbook-delete-form\"\n                        >\n                          삭제하기\n                        </Button>\n                        <Button\n                          buttonStyle=\"style2\"\n                          className=\"bg-light-grey-color text-dark-color\"\n                          onClick={closeModal}\n                        >\n                          닫기\n                        </Button>\n                      </>\n                    ),\n                  })\n                }\n              }}\n            />\n          </div>\n          <div className=\"body\">\n            <div className=\"title\">\n              <div className=\"name\">{post.name}</div>\n              <div className=\"date\">\n                {dayjs.unix(post.timestamp).format(\"YYYY-MM-DD\")}\n              </div>\n            </div>\n            <div className=\"content\">{post.content}</div>\n          </div>\n        </div>\n      ))}\n\n      <div className=\"break\" />\n\n      <div className=\"pagination\">\n        {pages[0] > 0 && (\n          <div\n            className=\"page\"\n            onClick={() => {\n              loadPage(pages[0] - 1)\n            }}\n          >\n            이전\n          </div>\n        )}\n        {pages.map((page) => (\n          <div\n            className={`page${page === currentPage ? \" current\" : \"\"}`}\n            key={page}\n            onClick={() => {\n              if (page === currentPage) return\n              loadPage(page)\n            }}\n          >\n            {page + 1}\n          </div>\n        ))}\n        {pages[pages.length - 1] < totalPages - 1 && (\n          <div\n            className=\"page\"\n            onClick={() => {\n              loadPage(pages[pages.length - 1] + 1)\n            }}\n          >\n            다음\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n\nconst DeleteGuestBookModal = ({\n  postId,\n  onSuccess,\n}: {\n  postId: number\n  onSuccess: () => void\n}) => {\n  const inputRef = useRef() as React.MutableRefObject<HTMLInputElement>\n  const { closeModal } = useModal()\n  const [loading, setLoading] = useState(false)\n\n  return (\n    <form\n      id=\"guestbook-delete-form\"\n      className=\"form\"\n      onSubmit={async (e) => {\n        e.preventDefault()\n        setLoading(true)\n        try {\n          const password = inputRef.current.value\n          if (!password || password.length < RULES.password.minLength) {\n            alert(`비밀번호를 ${RULES.password.minLength}자 이상 입력해주세요.`)\n            return\n          }\n\n          if (password.length > RULES.password.maxLength) {\n            alert(\n              `비밀번호를 ${RULES.password.maxLength}자 이하로 입력해주세요.`,\n            )\n            return\n          }\n\n          const result = await fetch(\n            `${process.env.REACT_APP_SERVER_URL}/guestbook`,\n            {\n              method: \"PUT\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({ id: postId, password }),\n            },\n          )\n\n          if (!result.ok) {\n            if (result.status === 403) {\n              alert(\"비밀번호가 일치하지 않습니다.\")\n            } else {\n              alert(\"방명록 삭제에 실패했습니다.\")\n            }\n            return\n          }\n\n          alert(\"삭제되었습니다.\")\n          closeModal()\n          onSuccess()\n        } catch {\n          alert(\"방명록 삭제에 실패했습니다.\")\n        } finally {\n          setLoading(false)\n        }\n      }}\n    >\n      <input\n        disabled={loading}\n        type=\"password\"\n        placeholder=\"비밀번호를 입력해주세요.\"\n        className=\"password\"\n        ref={inputRef}\n        maxLength={RULES.password.maxLength}\n      />\n    </form>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}